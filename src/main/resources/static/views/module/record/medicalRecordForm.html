<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <link rel="stylesheet" href="/lib/layuiadmin/layui/css/layui.css" media="all">
    <link rel="stylesheet" href="/lib/easyui/1.8.1/themes/bootstrap/easyui.css" media="all">
    <link rel="stylesheet" href="/lib/easyui/1.8.1/themes/icon.css" media="all">
    <link rel="stylesheet" href="/lib/easyui/1.8.1/themes/color.css" media="all">
    <link rel="stylesheet" href="/css/my.css" media="all">
    <link rel="stylesheet" href="/lib/layuiadmin/layui/css/extend/tcmTag.css" media="all">
    <style>
        .center-panel {
            padding: 0px;
            /*margin: 0px;
            height: 100%;*/
        }
        .layui-col-space10 {
            margin: 0px;
        }
        .layui-card-header {
            padding: 0 10px;
            margin-left: 10px;
            margin-right: 5px;
        }
        .layui-form-sm .layui-form-label {
            width: 50px;
        }
        .layui-form-sm .layui-input-block{
            margin-left: 50px;
        }
        .layui-form-sm .layui-form-item .layui-input-inline {
            width: 60px;
            margin-right: 0px;
        }
        .layui-form-radio>i {
            font-size: 16px;
            margin-right: 4px;
        }
        .layui-col-md8 .layui-card-body {
            padding-top: 2px;
            padding-bottom: 0px;
        }
        .datagrid-row-selected {
            background: #e6e6e6;
            color: #00438a;
        }
    </style>
</head>
<body>
<div class="layui-row center-panel">
    <div class="layui-col-md4">
        <div class="layui-card">
            <div class="layui-card-header">
                <h3><b>患者信息</b></h3>
            </div>
            <form id="record-form" lay-filter="record-form" class="layui-form layui-form-sm">
                <button id="record-form-submit-btn" style="display: none;" lay-submit lay-filter="record-form-submit-btn">提交</button>
                <input type="hidden" name="recordId" value="">
                <div class="layui-row layui-col-space10 layui-form-item">
                    <div class="layui-col-sm6">
                        <label class="layui-form-label">日期：</label>
                        <div class="layui-input-block">
                            <input name="arriveTime" readonly class="layui-input" placeholder="请选择日期">
                        </div>
                    </div>
                    <div class="layui-col-sm6">
                        <label class="layui-form-label"><span class="required">*</span>姓名：</label>
                        <div class="layui-input-block">
                            <input name="patientName" class="layui-input" placeholder="请填写姓名"
                                   maxlength="20" lay-verify="required">
                        </div>
                    </div>
                    <div class="layui-col-sm6">
                        <label class="layui-form-label"><span class="required">*</span>性别：</label>
                        <div class="layui-input-block">
                            <input type="radio" name="patientSex" value="1" title="男" checked>
                            <input type="radio" name="patientSex" value="2" title="女">
                            <input type="radio" name="patientSex" value="3" title="孕">
                        </div>
                    </div>
                    <div class="layui-col-sm6">
                        <div class="layui-row layui-col-space5">
                            <div class="layui-col-md8">
                                <label class="layui-form-label"><!--<span class="required">*</span>-->年龄：</label>
                                <div class="layui-input-block">
                                    <input name="patientAge" class="layui-input" placeholder="年龄" maxlength="3" lay-verify="required|number">
                                </div>
                            </div>
                            <div class="layui-col-md4">
                                <div class="layui-input-block" style="margin-left: 0px">
                                    <select name="ageUnit" lay-filter="ageUnit">
                                        <option value="Y">岁</option>
                                        <option value="M">月</option>
                                        <option value="D">天</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="layui-col-sm6">
                        <label class="layui-form-label">电话：</label>
                        <div class="layui-input-block">
                            <input name="patientPhone" class="layui-input" placeholder="请填写电话" lay-verify="phone">
                        </div>
                    </div>
                    <div class="layui-col-sm6">
                        <label class="layui-form-label">职业：</label>
                        <div class="layui-input-block">
                            <input name="patientJob" class="layui-input" placeholder="请填写职业" maxlength="20">
                        </div>
                    </div>
                    <div class="layui-col-sm12">
                        <label class="layui-form-label">住址：</label>
                        <div class="layui-input-block">
                            <input name="patientAddress" class="layui-input" placeholder="请填写住址" maxlength="50">
                        </div>
                    </div>
                    <div class="layui-col-sm12">
                        <label class="layui-form-label"><!--<span class="required">*</span>-->四诊：</label>
                        <div class="layui-input-block">
                            <textarea name="lookSmellAskPress" class="layui-textarea" placeholder="请填写四诊" maxlength="500" lay-verify="required" style="min-height: 80px"></textarea>
                        </div>
                    </div>
                    <div class="layui-col-sm12">
                        <label class="layui-form-label">辩证：</label>
                        <div class="layui-input-block">
                            <textarea name="analysis" class="layui-textarea" placeholder="请填写辩证" maxlength="500"></textarea>
                        </div>
                    </div>
                    <div class="layui-col-sm12">
                        <label class="layui-form-label"><!--<span class="required">*</span>-->诊断：</label>
                        <div class="layui-input-block">
                            <input name="diagnosis" class="layui-input" placeholder="请填写诊断" maxlength="100" lay-verify="required">
                        </div>
                    </div>
                    <div class="layui-col-sm12">
                        <label class="layui-form-label">治法：</label>
                        <div class="layui-input-block">
                            <input name="therapeuticMethod" class="layui-input" placeholder="请填写治法" maxlength="100">
                        </div>
                    </div>
                    <div class="layui-col-sm12">
                        <label class="layui-form-label"><!--<span class="required">*</span>-->处方：</label>
                        <div class="layui-input-block">
                            <input type="checkbox" name="prescriptionType" value="1" title="中药方" lay-skin="primary" lay-filter="prescriptionType">
                            <input type="checkbox" name="prescriptionType" value="2" title="中成药方" lay-skin="primary" lay-filter="prescriptionType">
                            <input type="checkbox" name="prescriptionType" value="3" title="医技项目" lay-skin="primary" lay-filter="prescriptionType">
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <!--处方-->
    <div class="layui-col-md8">
        <div class="layui-card">
            <div class="layui-card-body">
                <div class="layui-tab layui-tab-brief" lay-filter="medical-record-tabs">
                    <ul class="layui-tab-title">
                        <li></li>
                        <li style="display: none">中药方</li>
                        <li style="display: none">中成药方</li>
                        <li style="display: none">医技项目</li>
                    </ul>
                    <div class="layui-tab-content">
                        <div class="layui-tab-item layui-show">
                            <div style="text-align: center;margin-top: 200px">请选择一个或多个处方!</div>
                        </div>
                        <div class="layui-tab-item">
                            <form id="decoction-form" lay-filter="decoction-form" class="layui-form layui-form-sm">
                                <div class="layui-row layui-col-space5 layui-form-item">
                                    <input type="hidden" name="rxType" value="1">
                                    <div class="layui-col-sm4">
                                        <div class="layui-row layui-col-space5">
                                            <div class="layui-col-sm5">
                                                <label class="layui-form-label">剂数：</label>
                                                <div class="layui-input-block">
                                                    <input type="number" name="doseCount" value="3" class="layui-input">
                                                </div>
                                            </div>
                                            <div class="layui-col-sm7">
                                                <label class="layui-form-label" style="width: 60px;">总金额：</label>
                                                <div class="layui-input-block" style="margin-left: 60px;">
                                                    <input type="number" name="totalMoney" class="layui-input" value="0.00" readonly>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="layui-col-sm4">
                                        <label class="layui-form-label" style="width: 45px;">用法：</label>
                                        <div class="layui-input-block">
                                            <select name="usageDose" lay-filter=""></select>
                                        </div>
                                    </div>
                                    <div class="layui-col-sm4">
                                        <label class="layui-form-label" style="width: 45px;">医嘱：</label>
                                        <div class="layui-input-block">
                                            <input type="text" name="advice" class="layui-input">
                                        </div>
                                    </div>
                                </div>
                            </form>
                            <div id="tcm-tag-panel" class="tcm-tag-panel"></div>
                        </div>
                        <div class="layui-tab-item">
                            <form id="patent-medicine-form" lay-filter="patent-medicine-form" class="layui-form layui-form-sm">
                                <div class="layui-row layui-col-space10 layui-form-item">
                                    <input type="hidden" name="rxType" value="2">
                                    <div class="layui-col-sm4">
                                        <label class="layui-form-label" style="width: 60px;">总金额：</label>
                                        <div class="layui-input-block" style="margin-left: 60px;">
                                            <input type="number" value="0.00" name="totalMoney" class="layui-input" placeholder="请填写总金额" readonly>
                                        </div>
                                    </div>
                                    <div class="layui-col-sm8">
                                        <label class="layui-form-label">医嘱：</label>
                                        <div class="layui-input-block">
                                            <input name="advice" class="layui-input" placeholder="请填写医嘱">
                                        </div>
                                    </div>
                                </div>
                            </form>
                            <table id="patent-medicine-table" style="height: 370px;width:100%"
                                   data-options="fitColumns: true, autoRowHeight: true, singleSelect: true, rownumbers:true">
                                <thead>
                                    <tr>
                                        <th data-options="field: 'itemName',formatter:formatCellTooltip" width="16%">药品名称</th>
                                        <th data-options="field: 'specifications',formatter:formatCellTooltip" width="18%">规格</th>
                                        <th data-options="field: 'usageDosage',formatter:formatCellTooltip" width="30%">用法用量</th>
                                        <th data-options="field: 'medicineCount',align:'center',formatter:formatCellTooltip" width="8%">数量</th>
                                        <th data-options="field: 'stockUnitName',align:'center',formatter:formatCellTooltip" width="8%">单位</th>
                                        <th data-options="field: 'sellingPrice',formatter:formatCellTooltip" width="10%">单价(元)</th>
                                        <th data-options="field: 'totalMoney',formatter:formatCellTooltip" width="10%">总价(元)</th>
                                    </tr>
                                </thead>
                            </table>
                            <div id="patent-medicine-toolbar" style="padding:1px 10px;height:auto">
                                <div>
                                    搜索中成药:
                                    <select class="easyui-combogrid" panelHeight="auto" style="width:200px"></select>
                                    <a class="layui-btn layui-btn-normal layui-btn-xs" style="float: right;margin-top: 4px;" lay-event="delete" title="删除">删除</a>
                                </div>
                            </div>
                        </div>
                        <div class="layui-tab-item">
                            <form id="skill-form" lay-filter="skill-form" class="layui-form layui-form-sm">
                                <div class="layui-row layui-col-space10 layui-form-item">
                                    <input type="hidden" name="rxType" value="3">
                                    <div class="layui-col-sm3">
                                        <label class="layui-form-label" style="width: 60px;">总金额：</label>
                                        <div class="layui-input-block" style="margin-left: 60px;">
                                            <input type="number" value="0.00" name="totalMoney" class="layui-input" placeholder="请填写总金额" readonly>
                                        </div>
                                    </div>
                                    <div class="layui-col-sm4">
                                        <label class="layui-form-label">医嘱：</label>
                                        <div class="layui-input-block">
                                            <input name="advice" class="layui-input" placeholder="请填写医嘱">
                                        </div>
                                    </div>
                                    <!--<div class="layui-col-sm5">
                                        <label class="layui-form-label" style="width: 70px;">付款方式：</label>
                                        <div class="layui-input-block" style="margin-left: 70px;">
                                            <input type="radio" name="paymentMethod" value="1" title="一次付清" checked>
                                            <input type="radio" name="paymentMethod" value="2" title="只付本次">
                                        </div>
                                    </div>-->
                                </div>
                            </form>
                            <table id="skill-table" lay-filter="skill-table"></table>
                        </div>
                    </div>
                </div>
                <div id="btn-group" class="layui-row" style="display: none;">
                    <div class="layui-col-md-offset5 layui-col-md3">
                        ￥：<label>0.00</label>元
                    </div>
                    <div class="layui-col-md-offset1 layui-col-md3 layui-btn-container">
                        <button type="button" class="layui-btn layui-btn-sm" lay-event="save">保存</button>
                        <button type="button" class="layui-btn layui-btn-sm" lay-event="pay">结算</button>
                        <button type="button" class="layui-btn layui-btn-sm" lay-event="next">下一位</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
    //格式化单元格提示信息
    function formatCellTooltip(value){
        if (value) {
            return "<span title='" + value + "'>" + value + "</span>";
        } else {
            return "<span title=''></span>";
        }
    }
</script>
<script src="/lib/easyui/1.8.1/jquery.min.js"></script>
<script src="/lib/layuiadmin/layui/layui.js"></script>
<script src="/js/common/constant.js"></script>
<script src="/lib/easyui/1.8.1/jquery.easyui.min.js"></script>
<script src="/lib/easyui/1.8.1/locale/easyui-lang-zh_CN.js"></script>
<script src="/views/module/record/medicalRecordForm.js"></script>
</body>
</html>